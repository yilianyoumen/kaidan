/**
 * Created by zhangying on 2017/5/23.
 */
angular.module("myapp")
        .config(function($urlRouterProvider,$stateProvider){
            $urlRouterProvider.otherwise("/login")
            $stateProvider
                .state({
                    name:"login",
                    url:"/login",
                    templateUrl:"./views/login.html",
                    controller:"logins"
                })
                .state({
                    name:"user",
                    params:{
                        name:"",
                        IDs:"",
                        sum:""
                    },
                    url:"/user",
                    templateUrl:"./views/membercenter.html",
                    controller:"users"
                })
                
                .state({
                    name:"cardmessage",
                    params:{
                        sum:0,
                        price:0
                    },
                    url:"/cardmessage",
                    templateUrl:"./views/cardmessage.html",
                    controller:"cardmessages"
                })
                .state({
                    name:"bindcard",
                    url:"/bindcard",
                    templateUrl:"./views/bindcard.html",
                    controller:"bindcards"
                })
                .state({
                    name:"recharge",
                    params:{
                        faceCard:"",
                        total:""
                    },
                    url:"/recharge",
                    templateUrl:"./views/recharge.html",
                    controller:"recharges"
                })
                .state({
                    name:"sureindent",
                    url:"/sureindent",
                    templateUrl:"./views/sureindent.html",
                    controller:"sureindents"
                })
                .state({
                    name:"bank1",
                    url:"/bank1",
                    templateUrl:"./views/bank1.html",
                    controller:"bank1s"
                })
                .state({
                    name:"fund",
                    url:"/fund",
                    templateUrl:"./views/fund.html",
                    controller:"funds"
                })
                .state({
                    name:"dealdetail1",
                    url:"/dealdetail1",
                    params:{
                        txt:""
                    },
                    templateUrl:"./views/dealdetail1.html",
                    controller:"dealdetail1s"
                })
                .state({
                    name:"pay",
                    url:"/pay",
                    templateUrl:"./views/pay.html",
                    controller:"pays"
                })
                .state({
                    name:"dealsuccess",
                    params:{
                        price:"",
                        name:""
                    },
                    url:"/dealsuccess",
                    templateUrl:"./views/dealsuccess.html",
                    controller:"dealsuccesss"
                })
                .state({
                    name:"dealfail",
                    url:"/dealfail",
                    params:{
                        price:"",
                        name:""
                    },
                    templateUrl:"./views/dealfail.html",
                    controller:"dealfails"
                })
                .state({
                    name:"dealdetail",
                    url:"/dealdetail",
                    templateUrl:"./views/dealdetail.html"
                })
                .state({
                    name:"dealrecord",
                    url:"/dealrecord",
                    params:{
                        name1:"",
                        price1:""
                    },
                    templateUrl:"./views/dealrecord.html",
                    controller:"dealrecords"
                })

                .state({
                    name:"resetpwd",
                    url:"/resetpwd",
                    templateUrl:"./views/resetpwd.html",
                    controller:"resetpwds"
                })

                .state({
                    name:"resetpwd1",
                    url:"/resetpwd1",
                    params:{
                        ID:""
                    },
                    templateUrl:"./views/resetpwd1.html",
                    controller:"resetpwd1s"
                })
    })
        .directive("setClass",function($timeout,$rootScope){
            return {
                scope:{
                    brr:"="
                },
                templateUrl:"./views/lis.html",
                controller:function($scope){
                    $scope.add = function(ind,txt){
                        $scope.a = ind
                        if(txt!="自定义"){
                            $scope.txt = txt
                            $rootScope.txt = txt
                        }else{
                            $rootScope.txt = ""
                        }
                    }
                },
                link:function(scope,ele,attr){
                   $timeout(function(){
                    ele.find("li").removeClass("bg1").eq(0).addClass("bg1")
                    ele.find("li").on("click",function(){
                    ele.find("li").removeClass("bg1").eq(scope.a).addClass("bg1")
                })
            })
                }
            }
        })